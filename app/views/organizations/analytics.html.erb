<h1 class="text-2xl font-bold text-gray-800 mb-6">Analytics for <%= @organization.name %></h1>

<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">

  <div class="bg-white shadow rounded p-5">
    <h2 class="text-lg font-semibold text-gray-700">Total Members</h2>
    <p class="mt-2 text-3xl font-bold text-indigo-600"><%= @total_users %></p>
  </div>

  <div class="bg-white shadow rounded p-5">
    <h2 class="text-lg font-semibold text-gray-700">Spaces</h2>
    <p class="mt-2 text-3xl font-bold text-indigo-600"><%= @spaces_count %></p>
  </div>

  <div class="bg-white shadow rounded p-5">
    <h2 class="text-lg font-semibold text-gray-700">Posts</h2>
    <p class="mt-2 text-3xl font-bold text-indigo-600"><%= @posts_count %></p>
  </div>

  <div class="bg-white shadow rounded p-5">
    <h2 class="text-lg font-semibold text-gray-700">Rule Sets</h2>
    <p class="mt-2 text-3xl font-bold text-indigo-600"><%= @rule_sets_count %></p>
  </div>

  <div class="bg-white shadow rounded p-5">
    <h2 class="text-lg font-semibold text-gray-700">Spaces With Rules</h2>
    <p class="mt-2 text-3xl font-bold text-indigo-600"><%= @spaces_with_rules %></p>
  </div>

</div>

<!-- Distribution Pie Table -->
<div class="mt-10 bg-white shadow rounded p-6">
  <h2 class="text-lg font-semibold text-gray-700 mb-4">Users Count By Language</h2>

  <table class="w-full text-left border-collapse">
    <thead>
      <tr>
        <th class="border-b py-2 text-sm font-medium text-gray-600">Language</th>
        <th class="border-b py-2 text-sm font-medium text-gray-600">Count</th>
      </tr>
    </thead>
    <tbody>
      <% @language_distribution.each do |lang, count| %>
        <tr>
          <td class="border-b py-2"><%= lang.presence || "Unknown" %></td>
          <td class="border-b py-2"><%= count %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
